(this["webpackJsonpstudy-project"]=this["webpackJsonpstudy-project"]||[]).push([[0],{108:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(40),r=n(5),a="ADD-MESSAGE",i={dialogs:[{id:1,name:"Vadim"},{id:2,name:"Julia"},{id:3,name:"Alex"},{id:4,name:"Elon"}],messages:[{id:1,text:"Hi",isMine:!0},{id:2,text:"How are you?",isMine:!1,from:"Vadim"},{id:3,text:"I'm waiting for you rigth now.",isMine:!0},{id:4,text:"Some Special Text",isMine:!1,from:"Vadim"}]},o=function(e){return{type:a,messageText:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(s.a)(e.messages),[{id:5,text:t.messageText,isMine:!0}])});default:return e}}},136:function(e,t,n){e.exports={preloader:"Preloader_preloader__2ImiV"}},138:function(e,t,n){e.exports={profile:"Profile_profile__y9dNX"}},139:function(e,t,n){e.exports={wrapper:"Sidebar_wrapper__16-z9"}},16:function(e,t,n){e.exports={wrapper:"UsersStyle_wrapper__1vGbZ",usersList:"UsersStyle_usersList__2yhoS",item:"UsersStyle_item__1PVHo",userName:"UsersStyle_userName__3y9MC",userStatus:"UsersStyle_userStatus__3iPMr",userPhoto:"UsersStyle_userPhoto__38wkn",btn:"UsersStyle_btn__2kklZ",btnFollowed:"UsersStyle_btnFollowed__2yLQ5",btnTextFollow:"UsersStyle_btnTextFollow__1DelD",btnTextFollowed:"UsersStyle_btnTextFollowed__1mmWH"}},171:function(e,t,n){},193:function(e,t,n){},21:function(e,t,n){e.exports={wrapper:"ProfileInfo_wrapper__DWmVA",userImage:"ProfileInfo_userImage__3eHu5",userTitle:"ProfileInfo_userTitle__2zKDD",userName:"ProfileInfo_userName__FSiIn",status:"ProfileInfo_status__1zX4r",userDescription:"ProfileInfo_userDescription__2sckj",headers:"ProfileInfo_headers__2-J1K"}},23:function(e,t,n){e.exports={heading:"Heading_heading__1aY4q",heading__text:"Heading_heading__text___f8HC",headingHeaderText:"Heading_headingHeaderText__17tx-",headingSubtext:"Heading_headingSubtext__2pT-6",loginBlock:"Heading_loginBlock__3rwNW",loginName:"Heading_loginName__eppsm",loginNameText:"Heading_loginNameText__Uq9Ta",login__box:"Heading_login__box__1Kw37",logout__box:"Heading_logout__box__GdnFR",login__text:"Heading_login__text__1jfP8",logout__text:"Heading_logout__text__n5im6"}},24:function(e,t,n){e.exports={navbar:"Navbar_navbar__IX9KX",item:"Navbar_item__3E9S1",active:"Navbar_active__2iMSz",link__text:"Navbar_link__text__3X6y6"}},292:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(1),a=n.n(r),i=n(69),o=n.n(i),c=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,294)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),a(e),i(e)}))},u=(n(171),n(28)),l=n(29),d=n(31),j=n(30),p=n(12),f=n(11),b=n(9),h=n(5),g=n(10),_=n.n(g),m=n(18),O=n(133).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"f9e15d90-7a73-411f-99c9-ccec43cdec06"}}),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return O.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},v=function(e){return O.post("follow/".concat(e),{}).then((function(e){return e.data}))},N=function(e){return O.delete("follow/".concat(e)).then((function(e){return e.data}))},w=function(){return O.get("auth/me").then((function(e){return e.data}))},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return O.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},S=function(){return O.delete("auth/login").then((function(e){return e.data}))},y=function(e){return O.get("profile/".concat(e)).then((function(e){return e.data}))},k=function(e){return O.get("profile/status/".concat(e)).then((function(e){return e.data}))},C=function(e){return O.put("profile/status",{status:e}).then((function(e){return e.data}))},I=n(47),T="SET_AUTH_USER_DATA",F="TOGGLE_IS_FETCHING",U={userId:null,email:null,login:null,isFetching:!1,isAuth:!1},L=function(e,t,n,s){return{type:T,payload:{userId:e,email:t,login:n,isAuth:s}}},E=function(e){return{type:F,isFetching:e}},A=function(){return function(){var e=Object(m.a)(_.a.mark((function e(t){var n,s,r,a,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:0===(n=e.sent).resultCode&&(s=n.data,r=s.id,a=s.email,i=s.login,t(L(r,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(h.a)(Object(h.a)({},e),t.payload);case F:return Object(h.a)(Object(h.a)({},e),{},{isFetching:t.isFetching});default:return e}},z="INITIALIZED_SUCCESS",D={initialized:!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(h.a)(Object(h.a)({},e),{},{initialized:!0});default:return e}},B=(n(193),n(13)),R=n(40),G="ADD_POST",W="SET_USERS_PROFILE",J="SET_STATUS",V="DELETE_POST",X={posts:[{id:1,text:"It's my first post!",likesCount:12},{id:2,text:"What's up guiz?",likesCount:42},{id:3,text:"It's some long post to see how it looks when there are plenty of text. So it's another sentense for more text spreading! Okay, and in conslusion a little bit more...",likesCount:50}],newPostText:"",status:"",profile:null},K=function(e){return{type:J,status:e}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(h.a)(Object(h.a)({},e),{},{posts:[].concat(Object(R.a)(e.posts),[{id:5,text:t.postText,likesCount:0}])});case V:return Object(h.a)(Object(h.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case W:return Object(h.a)(Object(h.a)({},e),{},{profile:t.profile});case J:return Object(h.a)(Object(h.a)({},e),{},{status:t.status});default:return e}},q=n(108),Y="ADD_FRIEND",Q={friendsList:[{id:1,name:"Vadim",link:"/dialogs/1"},{id:2,name:"Julia",link:"/dialogs/2"},{id:3,name:"Alex",link:"/dialogs/3"},{id:4,name:"Elon",link:"/dialogs/4"}]},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t){case Y:return e.friendsList.push({id:5,name:t.friendName,link:t.friendLink}),e;default:return e}},ee=function(e,t,n,s){return e.map((function(e){return e[n]===t?Object(h.a)(Object(h.a)({},e),s):e}))},te="FOLLOW",ne="UNFOLLOW",se="SET_USERS",re="SET_TOTAL_USERS_COUNT",ae="SET_CURRENT_PAGE",ie="TOGGLE_IS_FETCHING",oe="TOGGLE_FOLLOWING_PROGRESS",ce="SET_USER_STATUS",ue={users:[],pageSize:8,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],userStatus:null},le=function(e){return{type:te,userId:e}},de=function(e){return{type:ne,userId:e}},je=function(e){return{type:ae,currentPage:e}},pe=function(e){return{type:ie,isFetching:e}},fe=function(e,t){return{type:oe,isFollowingInProgress:e,userId:t}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(h.a)(Object(h.a)({},e),{},{users:ee(e.users,t.userId,"id",{followed:!0})});case ne:return Object(h.a)(Object(h.a)({},e),{},{users:ee(e.users,t.userId,"id",{followed:!1})});case se:return Object(h.a)(Object(h.a)({},e),{},{users:Object(R.a)(t.users)});case re:return Object(h.a)(Object(h.a)({},e),{},{totalUsersCount:t.totalUsersCount});case ae:return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.currentPage});case ie:return Object(h.a)(Object(h.a)({},e),{},{isFetching:t.isFetching});case oe:return Object(h.a)(Object(h.a)({},e),{},{followingInProgress:t.isFollowingInProgress?[].concat(Object(R.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case ce:return Object(h.a)(Object(h.a)({},e),{},{userStatus:t.userStatus});default:return e}},he=n(134),ge=n(131),_e=Object(b.c)({profilePage:Z,dialogsPage:q.b,sidebar:$,usersPage:be,auth:H,form:ge.a,app:M}),me=Object(b.e)(_e,Object(b.a)(he.a)),Oe=n.p+"static/media/three-dots.b98a8c76.svg",xe=n(136),ve=n.n(xe),Ne=function(){return Object(s.jsx)("img",{alt:"",className:ve.a.preloader,src:Oe})},we=n(23),Pe=n.n(we),Se=function(e){return Object(s.jsxs)("header",{className:Pe.a.heading,children:[Object(s.jsx)("h1",{children:Object(s.jsxs)("span",{className:Pe.a.heading__text,children:[Object(s.jsx)("span",{className:Pe.a.headingHeaderText,children:"Guiz:"}),Object(s.jsx)("span",{className:Pe.a.headingSubtext,children:"social network for developers"}),Object(s.jsx)("i",{class:"far fa-heart"})]})}),Object(s.jsx)("div",{className:Pe.a.loginBlock,children:e.isAuth?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(B.b,{className:Pe.a.loginName,to:"/profile/".concat(e.userId),children:[Object(s.jsx)("i",{class:"fas fa-user"}),Object(s.jsx)("span",{className:Pe.a.loginNameText,children:e.login.toUpperCase()})]}),Object(s.jsxs)("span",{className:Pe.a.logout__box,onClick:function(){e.logout()},children:[Object(s.jsx)("span",{className:Pe.a.logout__text,children:"Logout"}),Object(s.jsx)("i",{class:"fas fa-sign-out-alt"})]})]}):Object(s.jsxs)(B.b,{className:Pe.a.login__box,to:"/login",children:[Object(s.jsx)("span",{className:Pe.a.login__text,children:"Login"}),Object(s.jsx)("i",{class:"fas fa-sign-in-alt"})]})})]})},ye=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[this.props.isFetching?Object(s.jsx)(Ne,{}):null,Object(s.jsx)(Se,Object(h.a)({},this.props))]})}}]),n}(a.a.Component),ke=Object(p.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,userId:e.auth.userId}}),{logout:function(){return function(){var e=Object(m.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E(!0)),e.next=3,S();case 3:0===e.sent.resultCode&&t(L(null,null,null,!1)),t(E(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ye),Ce=n(129),Ie=n(130),Te=n(70),Fe=n(36),Ue=n(56),Le=n.n(Ue),Ee=n(59),Ae=n.n(Ee),He=Object(Fe.a)(30),ze=Object(Fe.a)(30),De=Object(Te.a)("input"),Me=Object(Ie.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(s.jsxs)("form",{className:Ae.a.formWrapper,onSubmit:t,children:[Object(s.jsx)(Ce.a,{component:De,name:"login",placeholder:"Email",validate:[Fe.b,He]}),Object(s.jsx)(Ce.a,{component:De,name:"password",placeholder:"Password",type:"password",validate:[Fe.b,ze]}),Object(s.jsxs)("div",{children:[Object(s.jsx)(Ce.a,{component:"input",name:"rememberMe",type:"checkbox"})," ","Remember me"]}),n?Object(s.jsx)("div",{className:Le.a.formError,children:n}):null,Object(s.jsx)("button",{className:Ae.a.submitBtn,children:"Sign in"})]})})),Be=function(e){return e.isAuth?Object(s.jsx)(f.a,{to:"/profile"}):Object(s.jsxs)("div",{className:Ae.a.loginWrapper,children:[Object(s.jsx)("h1",{className:Ae.a.loginHeaderText,children:"Sign in"}),Object(s.jsx)(Me,{onSubmit:function(t){e.login(t.login,t.password,t.rememberMe)}}),e.isFetching?Object(s.jsx)(Ne,{}):null]})},Re=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)(Be,Object(h.a)({},this.props))}}]),n}(a.a.Component),Ge=Object(p.b)((function(e){return{isAuth:e.auth.isAuth,isFetching:e.auth.isFetching}}),{login:function(e,t,n){return function(){var s=Object(m.a)(_.a.mark((function s(r){var a,i;return _.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r(E(!0)),s.next=3,P(e,t,n);case 3:0===(a=s.sent).resultCode?r(A()):(i=a.messages.length>0?a.messages[0]:"Some error",r(Object(I.a)("login",{_error:i}))),r(E(!1));case 6:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})(Re),We=n(75),Je=n.n(We),Ve=n(76),Xe=n.n(Ve),Ke=function(e){return Object(s.jsxs)("div",{className:Xe.a.post,children:[Object(s.jsx)("div",{className:Xe.a.post__message,children:e.text}),Object(s.jsxs)("div",{className:Xe.a.post__likes,children:[e.likesCount,Object(s.jsx)("button",{children:"Like!"})]})]})},Ze=Object(Fe.a)(30),qe=Object(Te.a)("textarea"),Ye=Object(Ie.a)({form:"posts"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,className:Je.a.form,children:[Object(s.jsx)("div",{children:Object(s.jsx)(Ce.a,{component:qe,name:"postText",validate:[Fe.b,Ze],placeholder:"Post message"})}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:Je.a.send__btn,children:"Send"})})]})})),Qe=a.a.memo((function(e){var t=e.posts.map((function(e){return Object(s.jsx)(Ke,{text:e.text,likesCount:e.likesCount},e.id)}));return Object(s.jsxs)("div",{className:Je.a.posts,children:[t,Object(s.jsx)(Ye,{onSubmit:function(t){e.addPost(t.postText)}})]})})),$e=Object(p.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPost:function(e){return{type:G,postText:e}}})(Qe),et=n(138),tt=n.n(et),nt=n(21),st=n.n(nt),rt=n.p+"static/media/userMale.ab7efdc7.png",at=n(58),it=function(e){var t=Object(r.useState)(!1),n=Object(at.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(e.status),c=Object(at.a)(o,2),u=c[0],l=c[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);var d=function(){a?(i(!1),e.updateStatus(u)):i(!0)};return Object(s.jsx)(s.Fragment,{children:a?Object(s.jsx)("div",{className:st.a.status,children:Object(s.jsx)("input",{autoFocus:!0,onBlur:d,value:u,onChange:function(e){l(e.currentTarget.value)}})}):Object(s.jsx)("div",{className:st.a.status,children:Object(s.jsx)("span",{onDoubleClick:d,children:e.status||"No status"})})})},ot=function(e){var t=e.profile,n=e.status,r=e.updateStatus;return t?Object(s.jsxs)("div",{className:st.a.wrapper,children:[Object(s.jsx)("img",{alt:"",className:st.a.userImage,src:t.photos.large||t.photos.small||rt}),Object(s.jsxs)("div",{className:st.a.userTitle,children:[Object(s.jsx)("h2",{className:st.a.userName,children:t.fullName}),Object(s.jsx)(it,{status:n,updateStatus:r})]}),Object(s.jsxs)("div",{className:st.a.userDescription,children:[t.aboutMe?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{className:st.a.headers,children:"About me:"}),Object(s.jsx)("p",{children:t.aboutMe})]}):null,Object(s.jsx)("p",{className:st.a.headers,children:"Job status:"}),t.lookingForAJob?"I'm looking for a job.":"I'm not looking for a job.",Object(s.jsx)("br",{}),t.lookingForAJobDescription?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{className:st.a.headers,children:"Description:"}),Object(s.jsx)("p",{children:t.lookingForAJobDescription})]}):null]})]}):Object(s.jsx)(Ne,{})},ct=function(e){return Object(s.jsxs)("main",{className:tt.a.profile,children:[Object(s.jsx)(ot,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(s.jsx)($e,{})]})},ut=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.setUserProfile(e),this.props.setStatus(e)}},{key:"render",value:function(){return Object(s.jsx)(ct,Object(h.a)({},this.props))}}]),n}(a.a.Component),lt=Object(b.d)(Object(p.b)((function(e){return{profile:e.profilePage.profile,isAuth:e.auth.isAuth,status:e.profilePage.status,authorizedUserId:e.auth.userId}}),{setUserProfile:function(e){return function(){var t=Object(m.a)(_.a.mark((function t(n){var s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:s=t.sent,n({type:W,profile:s});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setStatus:function(e){return function(){var t=Object(m.a)(_.a.mark((function t(n){var s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:s=t.sent,n(K(s));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(m.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:0===t.sent.resultCode&&n(K(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),f.f)(ut),dt=n(24),jt=n.n(dt),pt=function(){return Object(s.jsx)("div",{className:jt.a.wrapper,children:Object(s.jsxs)("nav",{className:jt.a.navbar,children:[Object(s.jsx)("div",{className:jt.a.item,children:Object(s.jsxs)(B.b,{to:"/profile",activeClassName:jt.a.active,children:[Object(s.jsx)("i",{class:"fas fa-user-circle"}),Object(s.jsx)("span",{className:jt.a.link__text,children:"Profile"})]})}),Object(s.jsx)("div",{className:jt.a.item,children:Object(s.jsxs)(B.b,{to:"/dialogs",activeClassName:jt.a.active,children:[Object(s.jsx)("i",{class:"fas fa-envelope"}),Object(s.jsx)("span",{className:jt.a.link__text,children:"Messages"})]})}),Object(s.jsx)("div",{className:jt.a.item,children:Object(s.jsxs)(B.b,{to:"/users",activeClassName:jt.a.active,children:[Object(s.jsx)("i",{class:"fas fa-users"}),Object(s.jsx)("span",{className:jt.a.link__text,children:"Users"})]})})]})})},ft=n(60),bt=n.n(ft),ht=function(e){var t=e.friendsList.map((function(e){return Object(s.jsxs)(B.b,{className:bt.a.friendNavLink,to:e.link,children:[Object(s.jsx)("img",{alt:"user",className:bt.a.friendNavLink__img,src:e.name}),Object(s.jsx)("div",{className:bt.a.friendNavLink__name,children:e.name})]},e.id)}));return Object(s.jsx)("div",{className:bt.a.friendItem,children:t})},gt=n(139),_t=n.n(gt),mt=function(e){return Object(s.jsxs)("div",{className:_t.a.wrapper,children:[Object(s.jsx)(pt,{}),Object(s.jsx)(ht,{friendsList:e.friendsList})]})},Ot=Object(p.b)((function(e){return{friendsList:e.sidebar.friendsList}}))(mt),xt=n(16),vt=n.n(xt),Nt=n(41),wt=n.n(Nt),Pt=function(e){for(var t=e.pageSize,n=e.totalItemsCount,a=e.currentPage,i=e.onPageChange,o=e.portionSize,c=void 0===o?5:o,u=Math.ceil(n/t),l=[],d=1;d<=u;d++)l.push(d);var j=Math.ceil(u/c),p=Object(r.useState)(1),f=Object(at.a)(p,2),b=f[0],h=f[1],g=(b-1)*c+1,_=b*c;return Object(s.jsxs)("div",{className:wt.a.pagesBox,children:[b>1&&Object(s.jsx)("button",{className:wt.a.pagesBtns,onClick:function(){a<=g&&h(b-1),i(a-1)},children:Object(s.jsx)("i",{class:"fas fa-arrow-left"})}),Object(s.jsx)("div",{className:wt.a.pagesNumbers,children:l.filter((function(e){return e>=g&&e<=_})).map((function(e){return Object(s.jsx)("span",{onClick:function(){if(a===e)return null;i(e)},className:"".concat(wt.a.pageNumber," ").concat(a===e?wt.a.selectedPage:null),children:e},e)}))}),j>b&&Object(s.jsx)("button",{className:wt.a.pagesBtns,onClick:function(){a>=_&&h(b+1),i(a+1)},children:Object(s.jsx)("i",{class:"fas fa-arrow-right"})})]})},St=function(e){var t=e.user,n=e.followingInProgress,r=e.follow,a=e.unfollow;return Object(s.jsxs)("div",{className:vt.a.item,children:[Object(s.jsx)(B.b,{to:"/profile/"+t.id,children:Object(s.jsx)("img",{alt:"",className:vt.a.userPhoto,src:t.photos.small?t.photos.small:t.photos.large?t.photos.large:rt})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:vt.a.userName,children:t.name}),Object(s.jsx)("div",{className:vt.a.status,children:t.status&&t.status.length>50?"Check status inside profile!":t.status}),t.followed?Object(s.jsxs)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},className:"".concat(vt.a.btn," ").concat(vt.a.btnFollowed),children:[Object(s.jsx)("span",{className:vt.a.btnTextFollowed,children:"Followed"}),Object(s.jsx)("i",{class:"fas fa-check"})]}):Object(s.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},className:"".concat(vt.a.btn," ").concat(vt.a.btnFollow),children:Object(s.jsx)("span",{className:vt.a.btnTextFollow,children:"Follow"})})]})]})},yt=function(e){return Object(s.jsxs)("div",{className:vt.a.wrapper,children:[Object(s.jsx)("div",{className:vt.a.usersList,children:e.users.map((function(t){return Object(s.jsx)(St,{user:t,follow:e.follow,unfollow:e.unfollow,followingInProgress:e.followingInProgress},t.id)}))}),Object(s.jsx)(Pt,{currentPage:e.currentPage,onPageChange:e.onPageChange,totalItemsCount:e.totalUsersCount,pageSize:e.pageSize})]})},kt=n(140),Ct=function(e){return e.usersPage.users},It=(Object(kt.a)(Ct,(function(e){return e.filter((function(){return!0}))})),function(e){return e.usersPage.pageSize}),Tt=function(e){return e.usersPage.currentPage},Ft=function(e){return e.usersPage.totalUsersCount},Ut=function(e){return e.usersPage.isFetching},Lt=function(e){return e.usersPage.followingInProgress},Et=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onPageChange=function(t){var n=e.props.pageSize;e.props.getUsers(t,n)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[this.props.isFetching?Object(s.jsx)(Ne,{}):null,Object(s.jsx)(yt,{totalUsersCount:this.props.totalUsersCount,onPageChange:this.onPageChange,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,followingInProgress:this.props.followingInProgress,follow:this.props.follow,unfollow:this.props.unfollow})]})}}]),n}(a.a.Component),At=Object(p.b)((function(e){return{users:Ct(e),pageSize:It(e),totalUsersCount:Ft(e),currentPage:Tt(e),isFetching:Ut(e),followingInProgress:Lt(e)}}),{follow:function(e){return function(){var t=Object(m.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(fe(!0,e)),t.next=3,v(e);case 3:0===t.sent.resultCode&&n(le(e)),n(fe(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(m.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(fe(!0,e)),t.next=3,N(e);case 3:0===t.sent.resultCode&&n(de(e)),n(fe(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:je,getUsers:function(e,t){return function(){var n=Object(m.a)(_.a.mark((function n(s){var r;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(pe(!0)),n.next=3,x(e,t);case 3:r=n.sent,s((i=r.items,{type:se,users:i})),s((a=r.totalCount,{type:re,totalUsersCount:a})),s(je(e)),s(pe(!1));case 8:case"end":return n.stop()}var a,i}),n)})));return function(e){return n.apply(this,arguments)}}()}})(Et),Ht=a.a.lazy((function(){return n.e(3).then(n.bind(null,295))})),zt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(s.jsxs)("div",{className:"app-wrapper",children:[Object(s.jsx)(ke,{}),Object(s.jsx)(Ot,{}),Object(s.jsxs)("div",{className:"app-wrapper-content",children:[Object(s.jsx)(f.b,{path:"/login",render:function(){return Object(s.jsx)(Ge,{})}}),Object(s.jsx)(f.b,{path:"/profile/:userId?",render:function(){return Object(s.jsx)(lt,{})}}),Object(s.jsx)(f.b,{path:"/users",render:function(){return Object(s.jsx)(At,{})}}),Object(s.jsx)(f.b,{path:"/dialogs",render:function(){return Object(s.jsx)(a.a.Suspense,{fallback:Object(s.jsx)(Ne,{}),children:Object(s.jsx)(Ht,{})})}})]})]}):Object(s.jsx)(Ne,{})}}]),n}(a.a.Component),Dt=Object(b.d)(f.f,Object(p.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(A());Promise.all([t]).then((function(){e({type:z})}))}}}))(zt),Mt=function(){return Object(s.jsx)(B.a,{children:Object(s.jsx)(p.a,{store:me,children:Object(s.jsx)(Dt,{})})})};o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(Mt,{})}),document.getElementById("root")),c()},36:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r}));var s=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"The max length is ".concat(e," symbols")}}},41:function(e,t,n){e.exports={pagesBox:"Paginator_pagesBox__2VRjE",pageNumber:"Paginator_pageNumber__1HDAB",selectedPage:"Paginator_selectedPage__3HmGz",pagesNumbers:"Paginator_pagesNumbers__3D_pR",pagesBtns:"Paginator_pagesBtns__1411W"}},56:function(e,t,n){e.exports={formControl:"FormControls_formControl__3pMBi",error:"FormControls_error__11pWB",formError:"FormControls_formError__Xam93"}},59:function(e,t,n){e.exports={formWrapper:"Login_formWrapper__h40Wo",loginHeaderText:"Login_loginHeaderText__24H5a",submitBtn:"Login_submitBtn__3gOgc"}},60:function(e,t,n){e.exports={friendNavLink:"FriendsStyle_friendNavLink__3Cp7o",friendNavLink__img:"FriendsStyle_friendNavLink__img__18cRP",friendItem:"FriendsStyle_friendItem__1BFDb"}},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(5),r=n(137),a=n(0),i=(n(1),n(56)),o=n.n(i),c=function(e){return function(t){var n=t.input,i=t.meta,c=i.touched,u=i.error,l=Object(r.a)(t,["input","meta"]),d=c&&u;return Object(a.jsxs)("div",{className:o.a.formControl+" "+(d?o.a.error:""),children:[Object(a.jsx)("div",{children:Object(a.jsx)(e,Object(s.a)(Object(s.a)({},n),l))}),Object(a.jsx)("div",{children:d&&Object(a.jsx)("span",{children:u})})]})}}},75:function(e,t,n){e.exports={posts:"MyPosts_posts__1iz3w",form:"MyPosts_form__2BdW9",send__btn:"MyPosts_send__btn__3eTdH"}},76:function(e,t,n){e.exports={post:"Post_post__1rytW",post__userName:"Post_post__userName__3-SsZ",post__message:"Post_post__message__2yb0-",post__likes:"Post_post__likes__2bM4r"}}},[[292,1,2]]]);
//# sourceMappingURL=main.0b396182.chunk.js.map